{"version":3,"file":"components/cv-input-tags.js","sources":["webpack:///./assets/sprite.svg","webpack:///./data/example-cv-settings.ts","webpack:///./data/useCvState.ts","webpack:///./components/CvInputTags.vue?3473","webpack:///./components/CvInputTags.vue?5ab4","webpack:///./components/CvInputTags.vue?2bd2","webpack:///./components/CvInputTags.vue?cfdb","webpack:///./components/CvInputTags.vue","webpack:///./components/CvInputTags.vue?379a","webpack:///./components/CvInputTags.vue?fefe"],"sourcesContent":["module.exports = __webpack_public_path__ + \"img/sprite.0e3e933.svg\";","import { Cv } from '@/types/cv_builder_types';\n\nexport const cvSettingTemplate: Cv = {\n  jobTitle: 'Test Job',\n  name: 'Ameer',\n  lastName: 'Hamza',\n  email: 'test@example.com',\n  location: 'location 1,Country 1',\n  phoneNumber: '+92 332 123456',\n  aboutme:\n    \"My name is AmeerHamza, for testing purpose and volume data I'm going to copy paste a specific strig again and again. Here we go, This is test about me. This is test about me. This is test about me. This is test about me. This is test about me.\",\n  jobSkills: ['PHP', 'Node', 'Python', 'Javascript'],\n  softSkills: ['Leadership', 'Team building', 'motivational Speaker'],\n  languages: [\n    { lang: 'English', level: '80%' },\n    { lang: 'Urdu', level: '100%' },\n  ],\n  linkedin: 'https://www.linkedin.com/test-user',\n  twitter: 'https://www.twitter.com/test-user',\n  github: 'https://www.github.com/test-user',\n  website: 'https://test.com',\n  education: [\n    {\n      title: 'bachelor Education',\n      location: 'Test University, City, Country',\n      from: new Date(2015, 9, 1),\n      to: new Date(2019, 4, 1),\n      current: false,\n      summary: 'Bachelor education',\n    },\n  ],\n  work: [\n    {\n      title: 'Full stack developer',\n      location: 'locatio of company',\n      from: new Date(2019, 1, 1),\n      to: new Date(2021, 1, 1),\n      current: true,\n      summary: 'This is a test description of test job',\n    },\n  ],\n  projects: [\n    {\n      title: 'Project 1',\n      location: 'city, country',\n      from: new Date(2019, 1, 1),\n      to: new Date(2020, 1, 1),\n      current: true,\n      summary: 'This is test description of project',\n    },\n  ],\n  displayEducation: true,\n  displayProjects: true,\n  activeColor: '#5B21B6',\n};\n\nexport const cvSettingsEmptyTemplate: Cv = {\n  jobTitle: '',\n  name: '',\n  lastName: '',\n  email: '',\n  location: '',\n  phoneNumber: '',\n  aboutme: '',\n  jobSkills: [],\n  softSkills: [],\n  languages: [],\n  linkedin: '',\n  twitter: '',\n  github: '',\n  website: '',\n  education: [\n    {\n      title: '',\n      location: '',\n      from: new Date(),\n      to: new Date(),\n      current: true,\n      summary: '',\n    },\n  ],\n  work: [\n    {\n      title: '',\n      location: '',\n      from: new Date(),\n      to: new Date(),\n      current: true,\n      summary: '',\n    },\n  ],\n  projects: [\n    {\n      title: '',\n      location: '',\n      from: new Date(),\n      to: new Date(),\n      current: true,\n      summary: '',\n    },\n  ],\n  displayEducation: true,\n  displayProjects: true,\n  activeColor: '#5B21B6',\n};\n","import { useContext, reactive, toRefs } from '@nuxtjs/composition-api';\nimport {\n  cvSettingsEmptyTemplate,\n  cvSettingTemplate,\n} from './example-cv-settings';\nimport { Cv, CvEvent, defaultSkill, languagesSkill } from '@/types/cv_builder_types';\n\nconst state = reactive({\n  formSettings: { ...cvSettingTemplate } as Cv,\n  isLoading: true,\n});\n\nfunction isCvSettingsFromLocalStorageEmpty(item: any): boolean {\n  if (!item || Object.keys(item).length < 1) return true;\n  return Object.keys(item).every(\n    (key) => item[key] === '' || item[key].length < 1\n  );\n}\n\nexport function useCvState() {\n  const context = useContext();\n\n  function setUpCvSettings(): void {\n    const cvEs = localStorage.getItem('cvSettings-es') || '{}';\n    const cvEn = localStorage.getItem('cvSettings-en') || '{}';\n    const isCvEsEmpty = isCvSettingsFromLocalStorageEmpty(JSON.parse(cvEs));\n    const isCvEnEmpty = isCvSettingsFromLocalStorageEmpty(JSON.parse(cvEn));\n    if (isCvEsEmpty && isCvEnEmpty) {\n      state.formSettings = { ...cvSettingTemplate };\n    }\n    if (context.app.i18n.locale.includes('es') && !isCvEsEmpty) {\n      state.formSettings = {\n        ...cvSettingsEmptyTemplate,\n        ...JSON.parse(cvEs),\n      };\n    }\n    if (context.app.i18n.locale.includes('en') && !isCvEnEmpty) {\n      state.formSettings = {\n        ...cvSettingsEmptyTemplate,\n        ...JSON.parse(cvEn),\n      };\n    }\n    if (context.app.i18n.locale.includes('es') && isCvEsEmpty && !isCvEnEmpty) {\n      state.formSettings = {\n        ...cvSettingsEmptyTemplate,\n        ...JSON.parse(cvEn),\n      };\n      localStorage.setItem('cvSettings-es', JSON.stringify(state.formSettings));\n    }\n    if (context.app.i18n.locale.includes('en') && isCvEnEmpty && !isCvEsEmpty) {\n      state.formSettings = {\n        ...cvSettingsEmptyTemplate,\n        ...JSON.parse(cvEs),\n      };\n      localStorage.setItem('cvSettings-en', JSON.stringify(state.formSettings));\n    }\n    state.isLoading = false;\n  }\n\n  function addSkill(e: languagesSkill | defaultSkill): void {\n    if (e.skillType === 'languages') {\n      if (e.skill.lang.trim() === '') return;\n      const newLang = e.skill;\n      const newLangIdx = state.formSettings.languages.findIndex(\n        (lang:any) => lang.lang === newLang.lang\n      );\n      if (newLangIdx < 0) {\n        state.formSettings.languages = [\n          ...new Set([\n            ...state.formSettings.languages,\n            { lang: e.skill.lang, level: `${e.skill.level}%` },\n          ]),\n        ];\n      }\n    } else {\n      if (e.skill.trim() === '') return;\n      state.formSettings[e.skillType] = [\n        ...new Set([...state.formSettings[e.skillType], e.skill]),\n      ];\n    }\n  }\n\n  function removeSkill(e: languagesSkill | defaultSkill): void {\n    if (e.skillType === 'languages') {\n      state.formSettings[e.skillType] = [\n        ...state.formSettings[e.skillType].filter(\n          (skill:any) => skill.lang !== e.skill.lang\n        ),\n      ];\n    } else {\n      state.formSettings[e.skillType] = [\n        ...state.formSettings[e.skillType].filter((skill:any) => skill !== e.skill),\n      ];\n    }\n  }\n\n  function addEntry(e: { sectionName: 'education' | 'work' }) {\n    state.formSettings[e.sectionName].push({\n      title: '',\n      location: '',\n      from: new Date(),\n      to: new Date(),\n      current: false,\n      summary: '',\n    });\n  }\n\n  function removeEntry(e: {\n    sectionName: 'education' | 'work';\n    entry: CvEvent;\n  }) {\n    state.formSettings[e.sectionName] = state.formSettings[\n      e.sectionName\n    ].filter((entry:any) => entry.title !== e.entry.title);\n  }\n\n  function uploadCV(e: any): void {\n    const fr = new FileReader();\n    fr.onload = (e: any) => {\n      const data = JSON.parse(e.target.result);\n      state.formSettings = {\n        ...cvSettingsEmptyTemplate,\n        ...data.formSettings,\n      };\n    };\n    fr.readAsText(e.target.files[0]);\n  }\n\n  function resetForm(): void {\n    state.formSettings = cvSettingsEmptyTemplate;\n    localStorage.removeItem('cvSettings-es');\n    localStorage.removeItem('cvSettings-en');\n  }\n\n  function changeDisplaySection(e: {\n    sectionName: string;\n    status: boolean;\n  }): void {\n    const propName = `display${e.sectionName\n      .slice(0, 1)\n      .toUpperCase()}${e.sectionName.slice(1)}` as\n      | 'displayEducation'\n      | 'displayProjects';\n    state.formSettings[propName] = e.status;\n  }\n\n  return {\n    ...toRefs(state),\n    setUpCvSettings,\n    addSkill,\n    removeSkill,\n    addEntry,\n    removeEntry,\n    uploadCV,\n    resetForm,\n    changeDisplaySection,\n  };\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--4-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--4-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./CvInputTags.vue?vue&type=style&index=0&id=0eaf9fd2&lang=postcss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0665fc58\", content, true, context)\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form__group mb-10\"},[_vm._ssrNode(\"<label\"+(_vm._ssrAttr(\"for\",_vm.tagListName))+\" class=\\\"form__label\\\" data-v-0eaf9fd2>\"+_vm._ssrEscape(_vm._s(_vm.tagListLabel))+\"</label> <div class=\\\"flex gap-3\\\" data-v-0eaf9fd2>\"+((_vm.tagListName === 'languages')?(\"<div class=\\\"grid grid-cols-2 gap-3\\\" data-v-0eaf9fd2><input id=\\\"languages\\\" type=\\\"text\\\" placeholder=\\\"Spanish\\\"\"+(_vm._ssrAttr(\"value\",(_vm.tagInputLang.lang)))+\" class=\\\"form__control mt-2 mb-1\\\" data-v-0eaf9fd2> <div class=\\\"flex relative\\\" data-v-0eaf9fd2><input id=\\\"level\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" step=\\\"10\\\" placeholder=\\\"80\\\"\"+(_vm._ssrAttr(\"value\",(_vm.tagInputLang.level)))+\" class=\\\"form__control mt-2 mb-1\\\" data-v-0eaf9fd2> <span class=\\\"percentage top-1 mt-2 mb-1\\\" data-v-0eaf9fd2>%</span></div></div> <button type=\\\"button\\\"\"+(_vm._ssrAttr(\"disabled\",_vm.tagInputLangEmpty))+(_vm._ssrAttr(\"aria-disabled\",_vm.tagInputLangEmpty))+\" aria-live=\\\"assertive\\\" class=\\\"form__btn\\\" data-v-0eaf9fd2>\\n        Add\\n      </button>\"):(\"<input\"+(_vm._ssrAttr(\"id\",_vm.tagListName))+\" type=\\\"text\\\"\"+(_vm._ssrAttr(\"value\",(_vm.tagInput)))+\" class=\\\"form__control mt-2 mb-1\\\" data-v-0eaf9fd2> <button type=\\\"button\\\"\"+(_vm._ssrAttr(\"disabled\",_vm.tagInputEmpty))+(_vm._ssrAttr(\"aria-disabled\",_vm.tagInputEmpty))+\" aria-live=\\\"assertive\\\" class=\\\"form__btn\\\" data-v-0eaf9fd2>\\n        Add\\n      </button>\"))+\"</div> <ul class=\\\"tags\\\" data-v-0eaf9fd2>\"+((_vm.tagListName !== 'languages')?((_vm._ssrList((_vm.tagList),function(tag){return (\"<li class=\\\"form__btn form__btn--tag\\\" data-v-0eaf9fd2>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(tag)+\"\\n        \")+\"<button type=\\\"button\\\" data-v-0eaf9fd2><svg class=\\\"form__icon\\\" data-v-0eaf9fd2><use\"+(_vm._ssrAttr(\"href\",require(\"@/assets/sprite.svg\") + \"#close\"))+\" data-v-0eaf9fd2></use></svg></button></li>\")}))):((_vm._ssrList((_vm.tagListLang),function(tag){return (\"<li class=\\\"form__btn form__btn--tag\\\" data-v-0eaf9fd2>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(tag.lang)+\": \"+_vm._s(tag.level)+\"\\n        \")+\"<button type=\\\"button\\\" data-v-0eaf9fd2><svg class=\\\"form__icon\\\" data-v-0eaf9fd2><use\"+(_vm._ssrAttr(\"href\",require(\"@/assets/sprite.svg\") + \"#close\"))+\" data-v-0eaf9fd2></use></svg></button></li>\")}))))+\"</ul>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { computed, reactive, toRefs } from '@nuxtjs/composition-api';\nimport Vue from 'vue';\nimport { useCvState } from '~/data/useCvState';\nexport default Vue.extend({\n  name: 'CvInputTags',\n  props: {\n    tagListName: {\n      type: String,\n      default: '',\n    },\n    tagList: {\n      type: Array as () => string[],\n      default: () => [''],\n    },\n    tagListLang: {\n      type: Array as () => { lang: string; level: string }[],\n      default: () => [{ lang: '', level: '' }],\n    },\n    tagListLabel: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    const state = reactive({\n      tagInput: '',\n      tagInputLang: { lang: '', level: '' },\n    });\n\n    const { addSkill, removeSkill } = useCvState();\n\n    const tagInputLangEmpty = computed(function getTagInputLangEmpty() {\n      return state.tagInputLang.lang === '' || state.tagInputLang.level === '';\n    });\n\n    const tagInputEmpty = computed(function getTagInputEmpty() {\n      return state.tagInput === '';\n    });\n\n    function cleanInput(): void {\n      state.tagInput = '';\n      state.tagInputLang = { lang: '', level: '' };\n    }\n\n    return {\n      ...toRefs(state),\n      tagInputLangEmpty,\n      tagInputEmpty,\n      cleanInput,\n      addSkill,\n      removeSkill,\n    };\n  },\n});\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./CvInputTags.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./CvInputTags.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CvInputTags.vue?vue&type=template&id=0eaf9fd2&scoped=true&\"\nimport script from \"./CvInputTags.vue?vue&type=script&lang=ts&\"\nexport * from \"./CvInputTags.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./CvInputTags.vue?vue&type=style&index=0&id=0eaf9fd2&lang=postcss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"0eaf9fd2\",\n  \"c1d3f1fa\"\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/vue-style-loader/index.js??ref--4-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--4-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--4-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./CvInputTags.vue?vue&type=style&index=0&id=0eaf9fd2&lang=postcss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tags[data-v-0eaf9fd2]{display:flex;flex-wrap:wrap;grid-gap:.75rem;gap:.75rem;margin-top:.75rem;font-size:.75rem;justify-content:flex-start;width:100%}.percentage[data-v-0eaf9fd2]{position:absolute;top:.5rem;right:25%}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AAnDA;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AA/CA;;;;;;;;;;;;;;;;;;ACxDA;AACA;AAMA;AACA;AAAA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AAIA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;;;;;;;;;;;;;;;AC6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AAFA;AAbA;AACA;AAiBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAlDA;;AClHA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}